<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:i="clr-namespace:Projektanker.Icons.Avalonia;assembly=Projektanker.Icons.Avalonia"
             xmlns:viewModels="clr-namespace:Root_Way.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Root_Way.Views.ExploitationWindow"
             x:DataType="viewModels:ExploitationWindowViewModel">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <!-- Crea 10 filas con CheckBoxes y TextBlocks -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TextBlock Text="REVERSE SHELL GENERATOR" Margin="10" FontSize="24" Foreground="{StaticResource color11}"
                   HorizontalAlignment="Center" />

        <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Margin="20">
            <TextBlock Text="Target and Port" Margin="5" Foreground="{StaticResource color8}" FontSize="16" />
            <TextBlock Text="Target" Margin="10" />
            <TextBox x:Name="TargetTextBox" Text="{Binding Target, Mode=TwoWay}"
                     Background="{StaticResource winBorderColor2}" Width="150" HorizontalAlignment="Left" />

            <TextBlock Text="Port" Margin="10" />
            <TextBox x:Name="PortTextBox" Text="{Binding Port, Mode=TwoWay}"
                     Background="{StaticResource winBorderColor2}" Width="150" HorizontalAlignment="Left" />
            <TextBlock Padding="10" Text="a" Foreground="Transparent"></TextBlock>
            <TextBlock Text="Listener" Margin="5" Foreground="{StaticResource color8}" FontSize="16" />
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="1" Grid.Column="1" Text="Type" Margin="10" />
                <Button Grid.Row="1" Grid.Column="2" i:Attached.Icon="fa-solid fa-copy" Command="{Binding CopyListenerTypeCommand}"
                        HorizontalContentAlignment="Center" CornerRadius="10" Width="35" Height="25"
                        Background="Transparent" Foreground="{StaticResource color6}"/>
            </Grid>
            <ComboBox Width="200" SelectedItem="{Binding ListenerType}">
                <ComboBoxItem Content="nc" />
                <ComboBoxItem Content="nc freebsd" />
                <ComboBoxItem Content="busybox nc" />
                <ComboBoxItem Content="ncat" />
                <ComboBoxItem Content="ncat.exe" />
                <ComboBoxItem Content="ncat (TLS)" />
            </ComboBox>
            <TextBlock Margin="10" Width="200" x:Name="OutputType" Text="{Binding ContentListenerType, Mode=OneWay}"
                     Foreground="{StaticResource color11}" HorizontalAlignment="Left" Background="Transparent"/>
        </StackPanel>
        <StackPanel Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Margin="10">
            <TextBlock Text="Payloads" Margin="5" Foreground="{StaticResource color8}" FontSize="16" />
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Crea 10 filas con CheckBoxes y TextBlocks -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="1" Grid.Column="1" Text="Reverse" Padding="10" />
                <Button Grid.Row="1" Grid.Column="2" i:Attached.Icon="fa-solid fa-copy" Command="{Binding CopyReversePayloadCommand}"
                        HorizontalContentAlignment="Center" CornerRadius="10" Width="35" Height="25"
                        Background="Transparent" Foreground="{StaticResource color6}"/>
            </Grid>
            <ComboBox Width="200" SelectedItem="{Binding ReversePayload}">
                <ComboBoxItem Content="Bash -i" />
                <ComboBoxItem Content="Bash 196" />
                <ComboBoxItem Content="Bash read line" />
                <ComboBoxItem Content="Bash 5" />
                <ComboBoxItem Content="Bash udp" />
                <ComboBoxItem Content="nc mkfifo" />
                <ComboBoxItem Content="nc -e" />
                <ComboBoxItem Content="nc.exe -e" />
                <ComboBoxItem Content="BusyBox nc -e" />
                <ComboBoxItem Content="nc -c" />
                <ComboBoxItem Content="ncat -e" />
                <ComboBoxItem Content="ncat.exe -e" />
                <ComboBoxItem Content="ncat udp" />
                <ComboBoxItem Content="rustcat" />
                <ComboBoxItem Content="Perl" />
                <ComboBoxItem Content="Perl no sh" />
            </ComboBox>
            <TextBlock Margin="10" Width="600" Height="100" x:Name="OutputPayload"
                       Text="{Binding ContentReversePayload, Mode=OneWay}" Foreground="{StaticResource color11}"
                       HorizontalAlignment="Left" />
            <TextBlock Text="Shell" Margin="10" />
            <ComboBox Width="200" SelectedItem="{Binding ShellType}">
                <ComboBoxItem Content="sh" />
                <ComboBoxItem Content="/bin/sh" />
                <ComboBoxItem Content="bash" />
                <ComboBoxItem Content="/bin/bash" />
                <ComboBoxItem Content="cmd" />
                <ComboBoxItem Content="powershell" />
                <ComboBoxItem Content="pwsh" />
                <ComboBoxItem Content="ash" />
                <ComboBoxItem Content="bsh" />
                <ComboBoxItem Content="csh" />
                <ComboBoxItem Content="ksh" />
                <ComboBoxItem Content="zsh" />
            </ComboBox>
        </StackPanel>

        <StackPanel Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" Margin="10">
            <!-- CheckBox y TextBlock para la fila 0 -->
            <TextBlock Text="{Binding ErrorMessage, Mode=OneWay}" Foreground="Red" FontSize="12"
                       HorizontalAlignment="Center" />
            <Button Content="Generate" Command="{Binding GenerateReverseShellCommand}" Margin="30,0,30,30"
                    HorizontalContentAlignment="Center" HorizontalAlignment="Center" CornerRadius="10" Width="100"
                    Height="30" Background="Transparent" Foreground="{StaticResource color8}"
                    BorderBrush="{StaticResource color8}" />

        </StackPanel>
    </Grid>
</UserControl>